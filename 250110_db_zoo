-- Crear la base de datos
DROP DATABASE IF EXISTS zoo;
CREATE DATABASE IF NOT EXISTS zoo;
USE zoo;

-- Crear la tabla especie
CREATE TABLE especie (
    id INT NOT NULL AUTO_INCREMENT,
    nombre VARCHAR(150) NOT NULL,
    PRIMARY KEY (id),
    UNIQUE (nombre)  -- Clave candidata en nombre
);

-- Crear la tabla area
CREATE TABLE area (
    codigo INT NOT NULL AUTO_INCREMENT,
    nombre VARCHAR(150) NOT NULL,
    PRIMARY KEY (codigo),
    UNIQUE (nombre)  -- Clave candidata en nombre
);

-- Crear la tabla recinto
CREATE TABLE recinto (
    codigo INT NOT NULL AUTO_INCREMENT,
    nombre VARCHAR(150) NOT NULL,
    area_codigo INT NOT NULL,
    PRIMARY KEY (codigo),
    FOREIGN KEY (area_codigo) REFERENCES area(codigo) ON DELETE CASCADE
);

-- Crear la tabla animal
CREATE TABLE animal (
    id INT NOT NULL AUTO_INCREMENT,
    nombre VARCHAR(150) NOT NULL,
    especie_id INT NOT NULL,
    recinto_codigo INT NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (especie_id) REFERENCES especie(id) ON DELETE CASCADE,
    FOREIGN KEY (recinto_codigo) REFERENCES recinto(codigo) ON DELETE CASCADE
);
